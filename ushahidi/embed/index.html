<head>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.6.1/jquery.min.js"></script>
  <script src="http://maps.google.com/maps/api/js?sensor=true"></script>
  <script src="js/main.js"></script>
  <script>
    $(window).load(function() {
      var params = {
        center: new google.maps.LatLng(-28.917378673228, 132.037210454868),
        zoom: 4,
        maptype: 'terrain'
      };
      if (window.location.hash) {
        parseHash(params);
      }
      new ushahidi.Map($('#map')[0], params);
    });

    function parseHash(params) {
      var chunks = window.location.hash.substring(1).split('|');
      for (var i = 0, ii = chunks.length; i < ii; i++) {
        var param = chunks[i].split('=');
        switch (param[0]) {
          case 'c':
            var center = param[1].split(',');
            params.center = new google.maps.LatLng(center[0], center[1]);
            break;
          case 'z':
            params.zoom = parseInt(param[1], 10);
            break;
          case 'm':
            params.maptype = param[1];
        }
      }
    }
  </script>
  <style>
    html, body, #map {
      width: 100%;
      height: 100%;
      margin: 0;
      padding: 0;
    }
  </style>
</head>
<body>
  <div id="map"></div>
</body>

